(this.webpackJsonpprojeto=this.webpackJsonpprojeto||[]).push([[0],{28:function(e,t,a){e.exports=a.p+"static/media/Ball.a18ea291.svg"},29:function(e,t,a){e.exports=a(54)},40:function(e,t,a){},43:function(e,t,a){},44:function(e,t,a){},46:function(e,t,a){},47:function(e,t,a){},48:function(e,t,a){},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(18),o=a.n(r),i=a(6),l=a(14),u=a.n(l),s=a(20),m=(a(40),a(1)),_=(a(43),a(44),a(7)),p=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.cartReducer})).quantity;return c.a.createElement("button",{className:"topbar__icon",onClick:function(t){e({type:"SET_CART"})}},c.a.createElement("a",{href:"#",className:"topbar__icon--cart"},c.a.createElement(i.a,{icon:_.e,className:"cart-icon"}),c.a.createElement("span",{className:"my-cart-badge"}," ",t," ")))},d=a(12),f=function(){var e=Object(m.b)();return c.a.createElement("nav",{className:"topbar"},c.a.createElement("div",{className:"topbar__container"},c.a.createElement(d.b,{to:"/",className:"topbar__logo"},c.a.createElement("span",null,"FASHIONISTA")),c.a.createElement("div",{className:"topbar__group"},c.a.createElement("button",{className:"topbar__icon",onClick:function(t){e({type:"SET_SEARCH"})}},c.a.createElement(i.a,{icon:_.d})),c.a.createElement(p,null))))},E=a(5),v=(a(46),a(47),function(e){var t=e.name,a=e.on_sale,n=e.regular_price,r=e.actual_price,o=e.installments;return c.a.createElement("div",{className:"Footer"},c.a.createElement("span",{className:"Footer__tittle"}," ",t),c.a.createElement("div",{className:"Footer__price"},a&&c.a.createElement("span",{className:"Footer__price__regular"},n),c.a.createElement("span",{className:"Footer__price__actual"}," ",r," ")),c.a.createElement("span",{className:"installments"},o," "))}),b=function(e){var t=e.product;return c.a.createElement("div",{className:"card"},c.a.createElement("div",{className:"card__image"},c.a.createElement(d.b,{to:"/product/".concat(t.code_color)},t.image.length>0?c.a.createElement("img",{className:"card__image-wraper",src:t.image,alt:"product"}):c.a.createElement("img",{src:"https://dummyimage.com/300x379.15/ffffff/f7f7f7.png&text=/",alt:"holder"}),c.a.createElement(i.a,{className:"card__image__icon",icon:_.a})),""!==t.discount_percentage&&c.a.createElement("div",{className:"card__discount"},c.a.createElement("span",null,t.discount_percentage," OFF")),c.a.createElement(d.b,{to:"/product/".concat(t.code_color)}),c.a.createElement(v,{name:t.name,on_sale:t.on_sale,installments:t.installments,regular_price:t.regular_price,actual_price:t.actual_price})))},g=a(28),h=a.n(g),N=function(){return c.a.createElement("div",{className:"Load"},c.a.createElement("img",{src:h.a}))},O=(a(48),a(49),function(e){var t=e.item,a=Object(m.b)(),n=function(e,n){a(function(e,t){return{type:"CHANGE_AMOUNT",payload:[e,t]}}(t,n))};return c.a.createElement("div",{className:"cart__buttons"},c.a.createElement("button",{type:"minus",className:"cart__buttons--amount",onClick:function(e){return n(0,"minus")}},c.a.createElement(i.a,{icon:_.b})),c.a.createElement("span",{className:"cart__info--span"},t.item_amount),c.a.createElement("button",{className:"cart__buttons--amount",onClick:function(e){return n(0,"plus")}},c.a.createElement(i.a,{icon:_.c})))}),y=function(e){var t=e.item,a=e.id,n=Object(m.b)();return c.a.createElement("div",{className:"item"},c.a.createElement("div",{className:"item--delete",onClick:function(e){return function(e){e.preventDefault(),n(function(e){return{type:"DELETE_ITEM",payload:e}}(a))}(e)}},c.a.createElement(i.a,{icon:_.g})),c.a.createElement("div",{className:"item__image"},c.a.createElement("img",{src:t.image,alt:"holder"})),c.a.createElement("div",{className:"item__info"},c.a.createElement("span",{className:"item__info--name"},t.name),c.a.createElement("span",{className:"item__info--tam"},t.size)),c.a.createElement(O,{item:t}),c.a.createElement("div",{className:"item__info--price"}," ",t.actual_price," "))},j=function(){var e=Object(m.c)((function(e){return e.cartReducer})),t=e.cart,a=e.subtotal,n=Object(m.b)();return c.a.createElement("div",{className:"sidebar"},c.a.createElement("div",{className:"sidebar__top"},c.a.createElement("button",{className:"sidebar__top__close",onClick:function(e){n({type:"SET_CART"})}},c.a.createElement(i.a,{icon:_.f})),c.a.createElement("div",{class:"sidebar__top__tittle"},"Shopping Bag")),c.a.createElement("div",{className:"sidebar__content"},c.a.createElement("div",{className:"sidebar__items"},t.map((function(e,t){return c.a.createElement(y,{item:e,id:t})})))),c.a.createElement("div",{className:"cart__buttons--finish",onClick:function(e){n({type:"RESET_CART"})}},c.a.createElement("span",null," TOTAL: R$ ",a)))};a(50);function C(e){return{type:"GET_PRODUCTS",payload:e}}a(51);var R=function(e){var t=e.item,a=Object(m.b)();return c.a.createElement(d.b,{to:"/product/".concat(t.code_color),className:"search__item",onClick:function(e){a({type:"CLOSE_SEARCH"})}},c.a.createElement("div",{className:"search__item__image"},t.image?c.a.createElement("img",{className:"card__image-wraper",src:t.image,alt:"product"}):c.a.createElement("img",{src:"https://dummyimage.com/300x379.15/ffffff/f7f7f7.png&text=/",alt:"holder"})),c.a.createElement("div",{className:"search__item__info"},c.a.createElement("span",{className:"search__item__info__name"},t.name),c.a.createElement("span",{className:"search__item__info__price"},t.actual_price," ")))},S=function(){var e=Object(m.c)((function(e){return e.homeReducer})),t=e.search_array,a=(e.loading,Object(m.b)());return c.a.createElement("div",{className:"sidebar"},c.a.createElement("div",{className:"search"},c.a.createElement("button",{className:"sidebar__top__close"},c.a.createElement(i.a,{icon:_.f,onClick:function(){a({type:"CLOSE_SEARCH"})}})),c.a.createElement("input",{onChange:function(e){return function(e,t){e.preventDefault(),a({type:"SEARCH_UPDATE",payload:t})}(e,e.target.value)}}),c.a.createElement("div",{className:"search__content"},void 0!=t?t.map((function(e){return c.a.createElement(R,{item:e})})):c.a.createElement(N,null))))},T=(a(52),function(){var e=Object(m.c)((function(e){return e.searchReducer})).search;return c.a.createElement("div",{className:"overlay"},e?c.a.createElement(S,null):c.a.createElement(j,null))}),A=a(17),w=function(e){return e.pathname.split("/")[2]};var k=function(){var e=Object(m.b)(),t=Object(m.c)((function(e){return e.homeReducer})).sizes,a=Object(n.useState)(!1),r=Object(A.a)(a,2),o=r[0],i=r[1];return c.a.createElement("div",{className:"product__sizes"},void 0!=t&&t.map((function(a,n){return c.a.createElement("button",{name:n,className:o[n]?"product__sizes__size--selected":"product__sizes__size",key:n,onClick:function(a){return function(a){var n=[];for(var c in t)n[c]=c==a;i(n),e({type:"SET_SIZE",payload:t[a]})}(a.target.name)}},a)})))},z=function(){var e=Object(m.c)((function(e){return e.homeReducer})).products;return c.a.createElement("section",{className:"main"},c.a.createElement("section",{className:"main catalog"},e.length>0?e.map((function(e){return c.a.createElement(b,{product:e,key:e.code_color})})):c.a.createElement("p",null," deu ruim ")))},D=(a(53),function(){var e=Object(n.useState)(1),t=Object(A.a)(e,2),a=t[0],r=t[1],o=Object(m.c)((function(e){return e.productReducer})).size,l=Object(m.b)(),u=Object(n.useState)(!0),s=Object(A.a)(u,2),p=s[0],d=s[1],f=Object(m.c)((function(e){return e.homeReducer})).SingleProduct,E=w(window.location);if(Object(n.useEffect)((function(){l({type:"GET_PRODUCT_INFO",payload:E}),d(!1)}),[l,E]),p)return c.a.createElement("p",null," dale");function v(e,t){"minus"===t&&a>1?r(a-1):"plus"===t&&r(a+1)}return c.a.createElement("section",{className:"main"},void 0!=f?c.a.createElement("div",{className:"main product__container"},c.a.createElement("img",{src:f.image,alt:"product",className:"product__image"}),c.a.createElement("div",{className:"product__info"},c.a.createElement("p",{className:"product__info__tittle"},f.name," "),f.on_sale?c.a.createElement("span",{className:"product__info__discount_percentage"},f.discount_percentage):null,c.a.createElement("div",{className:"product__info"},c.a.createElement("div",{className:"product__price--mod"},f.on_sale?c.a.createElement("span",{className:"product__price--regular"},f.regular_price):null,c.a.createElement("span",{className:"product__price--actual"},f.actual_price)),c.a.createElement("span",{className:"installments"},f.installments)),c.a.createElement(k,null),c.a.createElement("div",{className:"product__info--buy "},c.a.createElement("span",null,"Quantidade: "),c.a.createElement("div",{className:"item__amount__buttons"},c.a.createElement(i.a,{icon:_.b,onClick:function(e){return v(0,"minus")}}),c.a.createElement("input",{placeholder:a}),c.a.createElement(i.a,{icon:_.c,onClick:function(e){return v(0,"plus")}}))),c.a.createElement("button",{className:"product__buttom",onClick:function(e){return function(e,t,a){e.preventDefault(),""!==o?(l(function(e,t,a){return{type:"ADD_TO_CART",payload:[e,t,a]}}(t,o,a)),console.log("COMPRA REALIZADA")):console.log("escolha um tamanho")}(e,f,a)}},c.a.createElement(i.a,{icon:_.a})))):c.a.createElement(N,null))}),I=function(){return c.a.createElement(E.c,null,c.a.createElement(E.a,{exact:!0,path:"/",component:z}),c.a.createElement(E.a,{path:"/product/:style",component:D}))},L="https://5e9935925eabe7001681c856.mockapi.io/api/v1/catalog";function x(){return(x=Object(s.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(L).then((function(e){return e.json()})).then((function(e){return e})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var F=function(){return x.apply(this,arguments)},H=function(){var e=Object(m.c)((function(e){return e.searchReducer})).overlay,t=Object(m.b)();return Object(n.useEffect)((function(){function e(){return(e=Object(s.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:a=e.sent,t(C(a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t({type:"LOADING",payload:!0}),function(){e.apply(this,arguments)}()}),[t]),Object(m.c)((function(e){return e.homeReducer})).loading?c.a.createElement("p",null,"Loading"):c.a.createElement("div",{className:"App"},c.a.createElement(d.a,null,c.a.createElement(f,null),e?c.a.createElement(T,null):null,c.a.createElement(I,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var P=a(13),U=a(4),G=function(e,t){if(e.length>0)var a=e.find((function(e){return e.code_color===t}));return a},q=function(e){if(void 0!==e)var t=e.sizes.filter((function(e){return e.available}));return t.sizes=t.map((function(e){return e.size})),t.sizes},M=function(e,t){return e.filter((function(e){return-1!==e.name.toLowerCase().indexOf(t.toLowerCase())}))},B={products:{},loading:!1,SingleProduct:{},sizes:[],search_array:[]};function J(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_PRODUCTS":return{products:t.payload,loading:!1};case"LOADING":return Object(U.a)(Object(U.a)({},e),{},{loading:t.payload});case"GET_PRODUCT_INFO":var a=G(e.products,t.payload);return Object(U.a)(Object(U.a)({},e),{},{SingleProduct:a,sizes:q(a)});case"SEARCH_UPDATE":var n=M(e.products,t.payload);return Object(U.a)(Object(U.a)({},e),{},{search_array:n});default:return e}}var Z={search:!1,overlay:!1};var $=function(e,t){var a={actual_price:t[0].actual_price,name:t[0].name,image:t[0].image,size:t[1],item_amount:t[2]};if(void 0!==e){var n=e.findIndex((function(e){return e.name===a.name&&e.size===a.size}));-1!==n?e[n].item_amount++:e.push(a)}return e},K=function(e){if(void 0!==e)return e.reduce((function(e,t){var a,n=(a=(a=(a=t.actual_price).replace(",",".")).split("R$"),parseFloat(a[1]).toFixed(2));return e+(n*=t.item_amount)}),0).toFixed(2)},W=function(e){if(void 0!=e)return e.reduce((function(e,t){return e+t.item_amount}),0)},Q=function(e,t){return e.forEach((function(e){e.name===t[0].name&&e.size===t[0].size&&("minus"===t[1]&&e.item_amount>1?t[0].item_amount=t[0].item_amount-1:"plus"===t[1]&&(t[0].item_amount=t[0].item_amount+1))})),e},V={show:!1,cart:[],subtotal:0,quantity:0};function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CART_CLICK":return Object(U.a)(Object(U.a)({},e),{},{show:t.payload});case"OVERLAY_CLICK":return Object(U.a)(Object(U.a)({},e),{},{show:!1});case"ADD_TO_CART":var a=$(e.cart,t.payload);return Object(U.a)(Object(U.a)({},e),{},{cart:a,subtotal:K(a),quantity:W(e.cart)});case"CHANGE_AMOUNT":return Object(U.a)(Object(U.a)({},e),{},{cart:Q(e.cart,t.payload),subtotal:K(e.cart),quantity:W(e.cart)});case"DELETE_ITEM":return e.cart.splice(t.payload,1),Object(U.a)(Object(U.a)({},e),{},{cart:e.cart,subtotal:K(e.cart),quantity:W(e.cart)});case"RESET_CART":return{show:!1,cart:[],subtotal:0,quantity:0};default:return e}}var X={size:"",url:""};function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SIZE":return Object(U.a)(Object(U.a)({},e),{},{size:t.payload});case"SET_URL":return Object(U.a)(Object(U.a)({},e),{},{url:t.payload});default:return e}}var te=Object(P.b)({homeReducer:J,searchReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SEARCH":return{search:!0,overlay:!e.overlay};case"SET_CART":return{overlay:!e.overlay,search:!1};case"CLOSE_SEARCH":return{search:!1,overlay:!1};default:return e}},cartReducer:Y,productReducer:ee}),ae=te;var ne=function(){try{var e=localStorage.getItem("state");if(null===e)return;return JSON.parse(e)}catch(t){return void console.log(t)}}(),ce=Object(P.c)(ae,ne);ce.subscribe((function(){return function(e){try{var t=JSON.stringify(e);localStorage.setItem("state",t)}catch(a){console.log(a)}}(ce.getState(Y))}));var re=ce;o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(m.a,{store:re},c.a.createElement(H,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[29,1,2]]]);
//# sourceMappingURL=main.fcdd0771.chunk.js.map